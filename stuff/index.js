(function(c,p,y,d,u,r,w,v){"use strict";const{ScrollView:_}=u.General,{FormSection:g,FormRadioRow:b,FormSwitchRow:S,FormIcon:M}=u.Forms;function R(){return w.useProxy(r.storage),React.createElement(_,null,React.createElement(g,{title:"Misc Settings",titleStyleType:"no_border"}),React.createElement(S,{label:"NSFW Warning",subLabel:"Warn when sending an NSFW image in a non NSFW channel.",leading:React.createElement(M,{source:v.getAssetIDByName("ic_warning_24px")}),value:r.storage.nsfwwarn,onValueChange:function(t){return r.storage.nsfwwarn=t}}),React.createElement(g,{title:"Defalt Sort",titleStyleType:"no_border"},Object.entries({Best:"best",Hot:"hot",New:"new",Rising:"rising",Top:"top",Controversial:"controversial"}).map(function(t){let[n,a]=t;return React.createElement(b,{label:n,selected:r.storage.sortdefs===a,onPress:function(){r.storage.sortdefs=a}})})))}const h=d.findByProps("sendMessage","receiveMessage"),$=d.findByProps("getLastSelectedChannelId"),T=d.findByProps("createBotMessage"),A=d.findByProps("BOT_AVATARS");function l(t,n,a){const o=t??$?.getChannelId?.(),i=T.createBotMessage({channelId:o,content:"",embeds:a});i.author.username="Homie",i.author.avatar="ASV",A.BOT_AVATARS.ASV="https://pbs.twimg.com/media/Eys2THcXMAYPius.jpg",typeof n=="string"?i.content=n:Object.assign(i,n),h.receiveMessage(o,i)}let f=[];f.push(p.registerCommand({name:"hentai",displayName:"hentai",description:"Get a hentai content",displayDescription:"Get a hentai content",options:[{name:"sort",displayName:"sort",description:"Changes the way reddit sorts.",displayDescription:"Changes the way reddit sorts",required:!1,type:3},{name:"silent",displayName:"silent",description:"Makes it so only you can see the message.",displayDescription:"Makes it so only you can see the message.",required:!1,type:5}],applicationId:"-1",inputType:1,type:1,execute:async function(t,n){try{let a=!0,o=t.find(function(s){return s.name==="sort"})?.value,i=t.find(function(s){return s.name==="silent"})?.value;if(typeof o>"u"&&(o=r.storage.sortdefs),!["best","hot","new","rising","top","controversial"].includes(o)){l(n.channel.id,"Incorrect sorting type. Valid options are\n`best`, `hot`, `new`, `rising`, `top`, `controversial`.",[]);return}let e=await fetch(`https://www.reddit.com/r/hentai/${o}.json?limit=100`).then(function(s){return s.json()});e=e.data?.children?.[Math.floor(Math.random()*e.data?.children?.length)]?.data;let m=await fetch(`https://www.reddit.com/u/${e?.author}/about.json`).then(function(s){return s.json()});i??!0?l(n.channel.id,"",[{type:"rich",title:e?.title,url:`https://reddit.com${e?.permalink}`,author:{name:`u/${e?.author} \u2022 r/${e?.subreddit}`,proxy_icon_url:m?.data.icon_img.split("?")[0],icon_url:m?.data.icon_img.split("?")[0]},image:{proxy_url:e?.url_overridden_by_dest.replace(/.gifv$/g,".gif")??e?.url.replace(/.gifv$/g,".gif"),url:e?.url_overridden_by_dest?.replace(/.gifv$/g,".gif")??e?.url?.replace(/.gifv$/g,".gif"),width:e?.preview?.images?.[0]?.source?.width,height:e?.preview?.images?.[0]?.source?.height},color:"0xf4b8e4"}]):h.sendMessage(n.channel.id,{content:e?.url_overridden_by_dest??e?.url})}catch(a){y.logger.log(a),l(n.channel.id,"Error, Try Check The Debug Log For More Information",[])}}}));const B=R,F=function(){r.storage.nsfwwarn??=!0,r.storage.sortdefs??="new"},C=function(){for(const t of f)t()};return c.onLoad=F,c.onUnload=C,c.settings=B,c})({},vendetta.commands,vendetta,vendetta.metro,vendetta.ui.components,vendetta.plugin,vendetta.storage,vendetta.ui.assets);
